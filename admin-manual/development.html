
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>&lt;no title&gt; &#8212; ecs-admin-manual 2020-05-31@15:22 documentation</title>
    <link rel="stylesheet" href="_static/better.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <link rel="stylesheet" href="static/custom.css" type="text/css" />
  </head><body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>## Development</p>
<p>### Service Architecture</p>
<ul class="simple">
<li><p>Ubuntu Xenial (16.04 LTS) 64Bit Standard Cloud Image</p></li>
<li><p>Saltstack salt is used for system installation</p></li>
<li><p>Letsencrypt is used for ssl host certificates</p></li>
<li><dl class="simple">
<dt>Services running on the host system</dt><dd><ul>
<li><p>Webserver: NGINX 1.10 - [nginx.conf](<a class="reference external" href="https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/nginx/nginx.conf">https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/nginx/nginx.conf</a>)</p></li>
<li><p>Database: Postgresql 9.5 Database [postgres config](<a class="reference external" href="https://github.com/ecs-org/ecs-appliance/tree/master/salt/appliance/postgresql">https://github.com/ecs-org/ecs-appliance/tree/master/salt/appliance/postgresql</a>)</p></li>
<li><p>SMTP/SSL Proxy: Stunnel - [stunnel.conf](<a class="reference external" href="https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/stunnel/stunnel.conf">https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/stunnel/stunnel.conf</a>)</p></li>
<li><p>SSH Daemon: openssh [ssh config](<a class="reference external" href="https://github.com/ecs-org/ecs-appliance/tree/master/salt/ssh">https://github.com/ecs-org/ecs-appliance/tree/master/salt/ssh</a>)</p></li>
<li><p>SMTP Outgoing: postfix - [main.cf](<a class="reference external" href="https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/postfix/main.cf">https://github.com/ecs-org/ecs-appliance/blob/master/salt/appliance/postfix/main.cf</a>)</p></li>
<li><p>SMTP Incoming: ecs - [smtpd.py](<a class="reference external" href="https://github.com/ecs-org/ecs/blob/master/ecs/communication/smtpd.py">https://github.com/ecs-org/ecs/blob/master/ecs/communication/smtpd.py</a>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Compliance to [rfc3834 Recommendations for Automatic Responses to Electronic Mail](<a class="reference external" href="https://tools.ietf.org/html/rfc3834">https://tools.ietf.org/html/rfc3834</a>)</dt><dd><ul>
<li><p>set and evaluate headerfield “Auto-Submitted”</p></li>
<li><p>add headerfield “In-Reply-To” and “References” to emails originated via smtp</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Services running inside docker container</dt><dd><ul>
<li><dl class="simple">
<dt>The ECS Application (Web, Worker, incoming Mail)</dt><dd><ul>
<li><p>Django is served via uwsgi inside the web container</p></li>
<li><p>Celery is used for asynchronous worker &amp; beat</p></li>
<li><p>python smtpd is used for incoming Mail processing</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Redis for Queuing Services</p></li>
<li><p>Memcache for Caching Services</p></li>
<li><p>tomcat running PDF/AS for Electronic Signed PDF Generation</p></li>
<li><p>tomcat running Mocca for accessing the Digital ID-Card used for signed PDF-Generation</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>eval_rst
.. graphviz:: architecture.dot</p>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<ul class="simple">
<li><p>The Appliance uses the default docker network (172.17.0.1/16) for docker container</p></li>
<li><dl class="simple">
<dt>Public (Outside) facing Ports</dt><dd><ul>
<li><p>NGINX Webserver Ports 80(http) and 443(https)</p></li>
<li><p>Stunnel Ports 25(smtp) and 465(smtpssl)</p></li>
<li><p>SSH Daemon 22(ssh)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>![alt text](network.svg.png “Appliance Network Layout”)</p>
<p>### Repository Layout</p>
<p><code class="docutils literal notranslate"><span class="pre">`eval_rst</span>
<span class="pre">============================================</span>&#160; <span class="pre">==================================================</span>
<span class="pre">Path</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Description</span>
<span class="pre">============================================</span>&#160; <span class="pre">==================================================</span>
<span class="pre">/pillar/*.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">salt</span> <span class="pre">environment</span>
<span class="pre">/pillar/top.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">defines</span> <span class="pre">the</span> <span class="pre">root</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">environment</span> <span class="pre">tree</span>
<span class="pre">/pillar/default-env.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">fallback</span> <span class="pre">env</span> <span class="pre">yaml</span> <span class="pre">and</span> <span class="pre">example</span> <span class="pre">localhost</span> <span class="pre">ecs</span> <span class="pre">config</span>
<span class="pre">/salt/*.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">salt</span> <span class="pre">states</span> <span class="pre">(to</span> <span class="pre">be</span> <span class="pre">executed)</span>
<span class="pre">/salt/top.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">defines</span> <span class="pre">the</span> <span class="pre">root</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">state</span> <span class="pre">tree</span>
<span class="pre">/salt/common/init.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">common</span> <span class="pre">install</span>
<span class="pre">/salt/common/env-create.sh</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">cli</span> <span class="pre">for</span> <span class="pre">env</span> <span class="pre">generation</span>
<span class="pre">/salt/common/env-package.sh</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">cli</span> <span class="pre">for</span> <span class="pre">building</span> <span class="pre">pdf,iso,tar.gz.gpg</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">env</span>
<span class="pre">/salt/common/env-update.sh</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">get</span> <span class="pre">env,</span> <span class="pre">test</span> <span class="pre">conversion</span> <span class="pre">and</span> <span class="pre">write</span> <span class="pre">to</span> <span class="pre">/run/active-env.yml</span>
<span class="pre">/salt/appliance/env-template.yml</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">template</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">generate</span> <span class="pre">a</span> <span class="pre">new</span> <span class="pre">env.yml</span>
<span class="pre">/salt/appliance/init.sls</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ecs</span> <span class="pre">appliance</span> <span class="pre">install</span>
<span class="pre">/salt/appliance/scripts/prepare-env.sh</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">script</span> <span class="pre">started</span> <span class="pre">first</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">environment</span>
<span class="pre">/salt/appliance/scripts/prepare-appliance.sh</span>&#160; <span class="pre">script</span> <span class="pre">started</span> <span class="pre">next</span> <span class="pre">to</span> <span class="pre">setup</span> <span class="pre">services</span>
<span class="pre">/salt/appliance/scripts/prepare-ecs.sh</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">script</span> <span class="pre">started</span> <span class="pre">next</span> <span class="pre">to</span> <span class="pre">build</span> <span class="pre">container</span>
<span class="pre">/salt/appliance/update/appliance-update.sh</span>&#160;&#160;&#160; <span class="pre">script</span> <span class="pre">triggerd</span> <span class="pre">from</span> <span class="pre">appliance-update.service</span>
<span class="pre">/salt/appliance/ecs/docker-compose.yml</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">main</span> <span class="pre">container</span> <span class="pre">group</span> <span class="pre">definition</span>
<span class="pre">/salt/appliance/systemd/appliance.service</span>&#160;&#160;&#160;&#160; <span class="pre">systemd</span> <span class="pre">appliance</span> <span class="pre">service</span> <span class="pre">that</span> <span class="pre">ties</span> <span class="pre">all</span> <span class="pre">together</span>
<span class="pre">============================================</span>&#160; <span class="pre">==================================================</span>
<span class="pre">`</span></code></p>
<p>### Execution Order</p>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a>`
[on start]
|
<a href="#id43"><span class="problematic" id="id44">|-- prepare-env
|-- prepare-appliance
|   |
|   |-- optional: call salt-call state.sls appliance.storage.setup
|---|</span></a>
|
<a href="#id11"><span class="problematic" id="id12">|</span></a>– prepare-ecs
<a href="#id13"><span class="problematic" id="id14">|</span></a>– appliance
|   |
|   <a href="#id15"><span class="problematic" id="id16">|</span></a>– docker-compose up
:
:   (post-start)
<a href="#id17"><span class="problematic" id="id18">|</span></a>– appliance-cleanup</p>
<p>[on error]
|
<a href="#id19"><span class="problematic" id="id20">|</span></a>– appliance-failed</p>
<p>[on update]
|
<a href="#id21"><span class="problematic" id="id22">|</span></a>– appliance-update
|   |
|   <a href="#id23"><span class="problematic" id="id24">|</span></a>– salt-call state.highstate
|   <a href="#id25"><span class="problematic" id="id26">|</span></a>– apt-daily unattended-upgrades
|   <a href="#id27"><span class="problematic" id="id28">|</span></a>– letsencrypt update
?   ?– optional reboot
|   <a href="#id29"><span class="problematic" id="id30">|</span></a>– systemctl restart appliance
<a href="#id31"><span class="problematic" id="id32">``</span></a><a href="#id33"><span class="problematic" id="id34">`</span></a></p>
<p>### Runtime Layout</p>
<p>Application:</p>
<p><a href="#id35"><span class="problematic" id="id36">``</span></a><a href="#id37"><span class="problematic" id="id38">`</span></a>eval_rst
====================================  ===========================================
Path                                  Description
====================================  ===========================================
/app/env.yml                          local (nocloud) environment configuration
/app/ecs                              ecs repository used for container creation
/app/appliance                        ecs-appliance repository active on host
/app/etc                              runtime configuration (symlink of /data/etc)
/app/etc/tags                         runtime tags
/app/etc/flags                        runtime flags
/app/etc/hooks                        runtime hooks
/app/ecs-ca                           client certificate ca and crl directory</p>
<blockquote>
<div><p>(symlink of /data/ecs-ca)</p>
</div></blockquote>
<dl class="simple">
<dt>/app/ecs-gpg                          storage-vault gpg keys directory</dt><dd><p>(symlink of /data/ecs-gpg)</p>
</dd>
<dt>/app/ecs-cache                        temporary storage directory</dt><dd><p>(symlink of /volatile/ecs-cache)</p>
</dd>
</dl>
<p>/run/active-env.yml                   current activated configuration
/run/appliance-failed                 flag that needs to be cleared, before a</p>
<blockquote>
<div><p>restart of a failed appliance is possible</p>
</div></blockquote>
<p>/usr/local/share/appliance            scripts from the appliance salt source
/usr/local/[s]bin                     user callable programs
====================================  ===========================================
<a href="#id39"><span class="problematic" id="id40">``</span></a><a href="#id41"><span class="problematic" id="id42">`</span></a></p>
<p>Data:</p>
<p><code class="docutils literal notranslate"><span class="pre">`eval_rst</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">Path</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Description</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">/data</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">data</span> <span class="pre">to</span> <span class="pre">keep</span>
<span class="pre">/data/ecs-ca</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">symlink</span> <span class="pre">target</span> <span class="pre">of</span> <span class="pre">/app/ecs-ca</span>
<span class="pre">/data/ecs-gpg</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">symlink</span> <span class="pre">target</span> <span class="pre">of</span> <span class="pre">/app/ecs-gpg</span>
<span class="pre">/data/ecs-storage-vault</span>&#160;&#160;&#160;&#160; <span class="pre">symlink</span> <span class="pre">target</span> <span class="pre">of</span> <span class="pre">/app/ecs-storage-vault</span>
<span class="pre">/data/etc</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">symlink</span> <span class="pre">target</span> <span class="pre">of</span> <span class="pre">/app/etc</span>
<span class="pre">/data/ecs-pgdump</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">database</span> <span class="pre">migration</span> <span class="pre">dump</span> <span class="pre">and</span> <span class="pre">backup</span> <span class="pre">dump</span> <span class="pre">diretory</span>
<span class="pre">/data/postgresql</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">referenced</span> <span class="pre">from</span> <span class="pre">moved</span> <span class="pre">/var/lib/postgresql</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">`</span></code></p>
<p>Volatile:</p>
<p><code class="docutils literal notranslate"><span class="pre">`eval_rst</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">Path</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Description</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">/volatile</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">data</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">get</span> <span class="pre">deleted</span>
<span class="pre">/volatile/docker</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">referenced</span> <span class="pre">from</span> <span class="pre">moved</span> <span class="pre">/var/lib/docker</span>
<span class="pre">/volatile/ecs-cache</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Shared</span> <span class="pre">Cache</span> <span class="pre">Directory</span>
<span class="pre">/volatile/ecs-backup-test</span>&#160;&#160; <span class="pre">default</span> <span class="pre">target</span> <span class="pre">directory</span> <span class="pre">of</span> <span class="pre">unconfigured</span> <span class="pre">backup</span>
<span class="pre">/volatile/redis</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">redis</span> <span class="pre">container</span> <span class="pre">database</span> <span class="pre">volume</span>
<span class="pre">==========================</span>&#160; <span class="pre">===========================================</span>
<span class="pre">`</span></code></p>
<p>### Container Volume Mapping</p>
<p><code class="docutils literal notranslate"><span class="pre">`eval_rst</span>
<span class="pre">========================</span>&#160; <span class="pre">============</span>&#160; <span class="pre">===============================</span>
<span class="pre">Host-Path</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Container</span>&#160;&#160;&#160;&#160; <span class="pre">Container-Path</span>
<span class="pre">========================</span>&#160; <span class="pre">============</span>&#160; <span class="pre">===============================</span>
<span class="pre">/data/ecs-ca</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ecs</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">/app/ecs-ca</span>
<span class="pre">/data/ecs-gpg</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ecs</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">/app/ecs-gpg</span>
<span class="pre">/data/ecs-storage-vault</span>&#160;&#160; <span class="pre">ecs</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">/app/ecs-storage-vault</span>
<span class="pre">/volatile/ecs-cache</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">ecs</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">/app/ecs-cache</span>
<span class="pre">/app/etc/server.cert.pem</span>&#160; <span class="pre">pdfas/mocca</span>&#160;&#160; <span class="pre">/app/import/server.cert.pem:ro</span>
<span class="pre">========================</span>&#160; <span class="pre">============</span>&#160; <span class="pre">===============================</span>
<span class="pre">`</span></code></p>
<p>### Environment Mapping</p>
<p>Types of environments:
+ saltstack get the environment as pillar either from /run/active-env.yml or from a default
+ shell-scripts and executed programs from these shellscripts get a flattened yaml representation in the environment (see flatyaml.py) usually restricted to ecs,appliance tree of the yaml file</p>
<p>Buildtime Environment:
+ the build time call of <cite>salt-call state.highstate</cite> does not need an environment,
but will use /run/active-env.yml if available</p>
<p>Runtime Environment:
+ prepare-env</p>
<blockquote>
<div><ul class="simple">
<li><p>get a environment yaml from all local and network sources</p></li>
<li><p>writes the result to /run/active-env.yml</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>appliance-update, prepare-appliance, prepare-ecs, appliance.service</dt><dd><ul>
<li><p>parse /run/active-env.yml</p></li>
<li><p>include defaults from appliance.include (GIT_SOURCE*)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Storage Setup (<cite>salt-call state.sls appliance.storage.setup</cite>) parses /run/active-env.yml</p></li>
<li><p>appliance-update will call <cite>salt-call state.highstate</cite> which will use /run/active-env.yml</p></li>
<li><dl class="simple">
<dt>appliance.service calls docker-compose up with active env from /run/active-env.yml</dt><dd><ul>
<li><dl class="simple">
<dt>docker compose passes the following to the ecs/ecs* container</dt><dd><ul>
<li><p>service_urls.env, database_url.env</p></li>
<li><p>ECS_SETTINGS</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>docker compose passes the following to the mocca and pdfas container</dt><dd><ul>
<li><p>APPLIANCE_DOMAIN as HOSTNAME</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<form class="search" action="search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="index.html">ecs-admin-manual 2020-05-31@15:22 documentation</a></li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; Copyright 2020 Medizinische Universität Wien, Medizinische Universität Innsbruck, Medizinische Universität Graz, Johannes Kepler Universität Linz, Karl Landsteiner Privatuniversität für Gesundheitswissenschaften, Land Salzburg.

  </footer>

  
  </body>
</html>